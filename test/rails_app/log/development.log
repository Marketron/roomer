  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  select sqlite_version(*)
  [1m[36mSQL (2.8ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("schema_migrations")
  [1m[36mSQL (1.7ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[36mSQL (0.4ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to RoomerCreateTenants (20110809053515)
  [1m[35mSQL (0.0ms)[0m  select sqlite_version(*)
  [1m[36mSQL (0.4ms)[0m  [1mCREATE TABLE "tenants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "domain_name" varchar(255), "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20110809053515')
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
Migrating to RoomerCreateTenants (20110809053515)
  [1m[36mSQL (0.4ms)[0m  [1mDROP TABLE "tenants"[0m
  [1m[35mAREL (0.1ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20110809053515'
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to RoomerCreateTenants (20110809053515)
  [1m[35mSQL (0.1ms)[0m  select sqlite_version(*)
  [1m[36mSQL (0.3ms)[0m  [1mCREATE TABLE "tenants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "domain_name" varchar(255), "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20110809053515')
  [1m[36mSQL (0.4ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to RoomerCreateTenants (20110809053515)
  [1m[35mSQL (0.0ms)[0m  select sqlite_version(*)
  [1m[36mSQL (0.3ms)[0m  [1mDROP TABLE "tenants"[0m
  [1m[35mAREL (0.1ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20110809053515'
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to RoomerCreateTenants (20110809053515)
  [1m[35mSQL (0.1ms)[0m  select sqlite_version(*)
  [1m[36mSQL (0.3ms)[0m  [1mCREATE TABLE "tenants" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "domain_name" varchar(255), "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20110809053515')
  [1m[36mSQL (0.4ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
  [1m[36mSQL (0.4ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
  [1m[36mSQL (0.3ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to RoomerCreateTenants (20110809053515)
  [1m[35mSQL (0.0ms)[0m  select sqlite_version(*)
  [1m[36mSQL (0.3ms)[0m  [1mDROP TABLE "tenants"[0m
  [1m[35mAREL (0.1ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20110809053515'
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (1.2ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (1.0ms)[0m  CREATE SCHEMA global
  [1m[36mSQL (1.5ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 
[0m
  [1m[35mSQL (0.7ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (1.4ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mSQL (0.3ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
Migrating to RoomerCreateTenants (20110809053515)
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (68.1ms)[0m  CREATE TABLE "tenants" ("id" serial primary key, "domain_name" character varying(255), "name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36mSQL (0.5ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mPK and serial sequence (14.6ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"schema_migrations"'::regclass
  [1m[36mPK and custom sequence (0.9ms)[0m  [1m SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"schema_migrations"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20110809053515')
  [1m[36mPK and serial sequence (1.4ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"schema_migrations"'::regclass
[0m
  [1m[35mPK and custom sequence (0.7ms)[0m   SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"schema_migrations"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
  [1m[36mSQL (0.9ms)[0m  [1mCOMMIT[0m
  [1m[36mSQL (0.2ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (1.9ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 
[0m
  [1m[35mSQL (1.3ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (1.4ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mSQL (0.3ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
  [1m[36mSQL (0.3ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 
[0m
  [1m[35mSQL (0.4ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to RoomerCreateTenants (20110809053515)
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (1.3ms)[0m  [1mDROP TABLE "tenants"[0m
  [1m[35mSQL (0.5ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mAREL (0.5ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20110809053515'[0m
  [1m[35mSQL (1.1ms)[0m  COMMIT
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (1.0ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (0.2ms)[0m  CREATE SCHEMA global
PGError: ERROR:  schema "global" already exists
: CREATE SCHEMA global
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.9ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (0.2ms)[0m  CREATE SCHEMA global
PGError: ERROR:  schema "global" already exists
: CREATE SCHEMA global
  [1m[36mSQL (0.2ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.9ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (0.3ms)[0m  SELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'
  [1m[36mSQL (0.2ms)[0m  [1mCREATE SCHEMA global[0m
PGError: ERROR:  schema "global" already exists
: CREATE SCHEMA global
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.0ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.9ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (0.3ms)[0m  SELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'
  [1m[36mSQL (0.2ms)[0m  [1mCREATE SCHEMA global[0m
PGError: ERROR:  schema "global" already exists
: CREATE SCHEMA global
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.9ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (0.2ms)[0m  CREATE SCHEMA global
PGError: ERROR:  schema "global" already exists
: CREATE SCHEMA global
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.9ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (0.2ms)[0m  SELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (0.3ms)[0m  CREATE SCHEMA global
PGError: ERROR:  schema "global" already exists
: CREATE SCHEMA global
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.9ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (0.3ms)[0m  SELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'
  [1m[36mSQL (0.2ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (0.2ms)[0m  CREATE SCHEMA global
PGError: ERROR:  schema "global" already exists
: CREATE SCHEMA global
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.9ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (0.2ms)[0m  CREATE SCHEMA global
PGError: ERROR:  schema "global" already exists
: CREATE SCHEMA global
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.9ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (1.1ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 
  [1m[36mSQL (1.1ms)[0m  [1m SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (1.3ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.3ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to RoomerCreateTenants (20110809061738)
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (6.6ms)[0m  [1mCREATE TABLE "tenants" ("id" serial primary key, "domain_name" character varying(255), "name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.5ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mPK and serial sequence (2.1ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"schema_migrations"'::regclass
[0m
  [1m[35mPK and custom sequence (0.9ms)[0m   SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"schema_migrations"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20110809061738')[0m
  [1m[35mPK and serial sequence (1.4ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"schema_migrations"'::regclass
  [1m[36mPK and custom sequence (0.7ms)[0m  [1m SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"schema_migrations"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
[0m
  [1m[35mSQL (0.9ms)[0m  COMMIT
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.9ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (1.3ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 
  [1m[36mSQL (0.7ms)[0m  [1m SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (1.3ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.3ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to RoomerCreateTenants (20110809061738)
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (1.5ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 
[0m
  [1m[35mSQL (0.7ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (1.3ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mSQL (0.2ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
  [1m[36mSQL (0.2ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 
[0m
  [1m[35mSQL (0.3ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to RoomerCreateTenants (20110809061738)
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mSQL (1.4ms)[0m  [1mDROP TABLE "tenants"[0m
  [1m[35mSQL (0.4ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mAREL (0.4ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20110809061738'[0m
  [1m[35mSQL (0.8ms)[0m  COMMIT
  [1m[36mSQL (0.2ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.0ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.9ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[36mSQL (0.2ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.4ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (1.0ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[36mSQL (0.2ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (1.0ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (1.0ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (1.0ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[36mSQL (0.2ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.9ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (0.1ms)[0m  SET search_path TO global
  [1m[36mSQL (1.1ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 
[0m
  [1m[35mSQL (0.7ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (0.3ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 
[0m
  [1m[35mSQL (0.5ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
PGError: ERROR:  relation "schema_migrations" does not exist
LINE 4:              WHERE a.attrelid = '"schema_migrations"'::regcl...
                                        ^
:             SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
              FROM pg_attribute a LEFT JOIN pg_attrdef d
                ON a.attrelid = d.adrelid AND a.attnum = d.adnum
             WHERE a.attrelid = '"schema_migrations"'::regclass
               AND a.attnum > 0 AND NOT a.attisdropped
             ORDER BY a.attnum
  [1m[36mSQL (0.2ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.0ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (1.6ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 
[0m
  [1m[35mSQL (0.7ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (1.3ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mSQL (0.3ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (1.0ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (0.1ms)[0m  SET search_path TO global
  [1m[36mSQL (1.2ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 
[0m
  [1m[35mSQL (0.6ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (0.2ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 
[0m
  [1m[35mSQL (0.4ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
PGError: ERROR:  relation "schema_migrations" does not exist
LINE 4:              WHERE a.attrelid = '"schema_migrations"'::regcl...
                                        ^
:             SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
              FROM pg_attribute a LEFT JOIN pg_attrdef d
                ON a.attrelid = d.adrelid AND a.attnum = d.adnum
             WHERE a.attrelid = '"schema_migrations"'::regclass
               AND a.attnum > 0 AND NOT a.attisdropped
             ORDER BY a.attnum
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (1.0ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (0.1ms)[0m  SET search_path TO global
  [1m[36mSQL (1.2ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 
[0m
  [1m[35mSQL (0.7ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (0.3ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 
[0m
  [1m[35mSQL (0.4ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
PGError: ERROR:  relation "schema_migrations" does not exist
LINE 4:              WHERE a.attrelid = '"schema_migrations"'::regcl...
                                        ^
:             SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
              FROM pg_attribute a LEFT JOIN pg_attrdef d
                ON a.attrelid = d.adrelid AND a.attnum = d.adnum
             WHERE a.attrelid = '"schema_migrations"'::regclass
               AND a.attnum > 0 AND NOT a.attisdropped
             ORDER BY a.attnum
  [1m[36mSQL (0.2ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.1ms)[0m  [1mDROP SCHEMA global IF EXISTS[0m
PGError: ERROR:  syntax error at or near "IF"
LINE 1: DROP SCHEMA global IF EXISTS
                           ^
: DROP SCHEMA global IF EXISTS
  [1m[36mSQL (0.2ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.5ms)[0m  [1mDROP SCHEMA IF EXISTS global[0m
PGError: ERROR:  cannot drop schema global because other objects depend on it
DETAIL:  table global.films depends on schema global
HINT:  Use DROP ... CASCADE to drop the dependent objects too.
: DROP SCHEMA IF EXISTS global
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (2.9ms)[0m  [1mDROP SCHEMA IF EXISTS global CASCADE[0m
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.0ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.8ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (0.6ms)[0m  CREATE SCHEMA global
  [1m[36mSQL (0.1ms)[0m  [1mSET search_path TO global[0m
  [1m[35mSQL (1.1ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 
  [1m[36mSQL (0.1ms)[0m  [1mSET search_path TO global[0m
  [1m[35mSQL (0.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 
  [1m[36mSQL (0.7ms)[0m  [1m SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (0.3ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 
  [1m[36mSQL (0.4ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
PGError: ERROR:  relation "schema_migrations" does not exist
LINE 4:              WHERE a.attrelid = '"schema_migrations"'::regcl...
                                        ^
:             SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
              FROM pg_attribute a LEFT JOIN pg_attrdef d
                ON a.attrelid = d.adrelid AND a.attnum = d.adnum
             WHERE a.attrelid = '"schema_migrations"'::regclass
               AND a.attnum > 0 AND NOT a.attisdropped
             ORDER BY a.attnum
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.0ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.1ms)[0m  [1mSET search_path TO global[0m
  [1m[35mSQL (1.8ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (1.8ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (2.9ms)[0m  CREATE TABLE "global"."schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36mSQL (0.1ms)[0m  [1mSHOW search_path[0m
  [1m[35mSQL (1.4ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t, pg_class i, pg_index d
 WHERE i.relkind = 'i'
 AND d.indexrelid = i.oid
 AND d.indisprimary = 'f'
 AND t.oid = d.indrelid
 AND t.relname = 'global.schema_migrations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname
  [1m[36mSQL (1.4ms)[0m  [1mCREATE UNIQUE INDEX "global.unique_schema_migrations" ON "global"."schema_migrations" ("version")[0m
  [1m[35mSQL (0.3ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_info'
 AND schemaname = 'global'
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (1.8ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (0.2ms)[0m  SET search_path TO global
  [1m[36mSQL (1.7ms)[0m  [1mDROP SCHEMA IF EXISTS global CASCADE[0m
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (1.0ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (0.5ms)[0m  CREATE SCHEMA global
  [1m[36mSQL (1.3ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (2.6ms)[0m  CREATE TABLE "global"."schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36mSQL (0.1ms)[0m  [1mSHOW search_path[0m
  [1m[35mSQL (1.4ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t, pg_class i, pg_index d
 WHERE i.relkind = 'i'
 AND d.indexrelid = i.oid
 AND d.indisprimary = 'f'
 AND t.oid = d.indrelid
 AND t.relname = 'global.schema_migrations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname
  [1m[36mSQL (2.3ms)[0m  [1mCREATE UNIQUE INDEX "global.unique_schema_migrations" ON "global"."schema_migrations" ("version")[0m
  [1m[35mSQL (0.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_info'
 AND schemaname = 'global'
  [1m[36mSQL (0.1ms)[0m  [1mSET search_path TO global[0m
  [1m[35mSQL (0.3ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (0.3ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (1.1ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mSQL (0.2ms)[0m  SELECT "global"."schema_migrations"."version" FROM "global"."schema_migrations"
Migrating to RoomerCreateTenants (20110809065823)
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (3.5ms)[0m  CREATE TABLE "global"."tenants" ("id" serial primary key, "domain_name" character varying(255), "name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36mSQL (0.5ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (0.4ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mPK and serial sequence (2.0ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"global"."schema_migrations"'::regclass
[0m
  [1m[35mPK and custom sequence (1.0ms)[0m   SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"global"."schema_migrations"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "global"."schema_migrations" ("version") VALUES ('20110809065823')[0m
  [1m[35mPK and serial sequence (1.4ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"global"."schema_migrations"'::regclass
  [1m[36mPK and custom sequence (0.7ms)[0m  [1m SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"global"."schema_migrations"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
[0m
  [1m[35mSQL (0.3ms)[0m  COMMIT
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (2.7ms)[0m  [1mDROP SCHEMA IF EXISTS global CASCADE[0m
  [1m[36mSQL (0.2ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (1.0ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (2.8ms)[0m  CREATE SCHEMA global
  [1m[36mSQL (1.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (1.8ms)[0m  CREATE TABLE "global"."schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36mSQL (0.1ms)[0m  [1mSHOW search_path[0m
  [1m[35mSQL (1.5ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t, pg_class i, pg_index d
 WHERE i.relkind = 'i'
 AND d.indexrelid = i.oid
 AND d.indisprimary = 'f'
 AND t.oid = d.indrelid
 AND t.relname = 'global.schema_migrations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname
  [1m[36mSQL (1.3ms)[0m  [1mCREATE UNIQUE INDEX "global.unique_schema_migrations" ON "global"."schema_migrations" ("version")[0m
  [1m[35mSQL (0.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_info'
 AND schemaname = 'global'
  [1m[36mSQL (0.1ms)[0m  [1mSET search_path TO global[0m
  [1m[35mSQL (0.3ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.5ms)[0m  [1m SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (0.3ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (1.2ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mSQL (0.2ms)[0m  SELECT "global"."schema_migrations"."version" FROM "global"."schema_migrations"
Migrating to RoomerCreateTenants (20110809065823)
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (3.3ms)[0m  CREATE TABLE "global"."tenants" ("id" serial primary key, "domain_name" character varying(255), "name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (0.4ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mPK and serial sequence (2.0ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"global"."schema_migrations"'::regclass
[0m
  [1m[35mPK and custom sequence (0.9ms)[0m   SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"global"."schema_migrations"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "global"."schema_migrations" ("version") VALUES ('20110809065823')[0m
  [1m[35mPK and serial sequence (1.4ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"global"."schema_migrations"'::regclass
  [1m[36mPK and custom sequence (0.7ms)[0m  [1m SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"global"."schema_migrations"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
[0m
  [1m[35mSQL (0.5ms)[0m  COMMIT
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (1.1ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (1.6ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.2ms)[0m  [1mSET search_path TO global[0m
  [1m[35mSQL (0.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.6ms)[0m  [1m SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (0.3ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (1.2ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mSQL (0.3ms)[0m  SELECT "global"."schema_migrations"."version" FROM "global"."schema_migrations"
Migrating to RoomerCreateTenants (20110809065823)
  [1m[36mSQL (0.2ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.1ms)[0m  [1mSET search_path TO global[0m
  [1m[35mSQL (1.6ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 
  [1m[36mSQL (0.7ms)[0m  [1m SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (1.3ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.2ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
  [1m[35mSQL (0.3ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 
  [1m[36mSQL (0.3ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mSQL (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
Migrating to RoomerCreateTenants (20110809065823)
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.4ms)[0m  DROP TABLE "tenants"
  [1m[36mSQL (0.4ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mAREL (0.5ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20110809065823'
  [1m[36mSQL (2.0ms)[0m  [1mCOMMIT[0m
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.9ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (1.2ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.1ms)[0m  [1mSET search_path TO global[0m
  [1m[35mSQL (0.3ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.5ms)[0m  [1m SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (0.3ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (1.2ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mSQL (0.2ms)[0m  SELECT "global"."schema_migrations"."version" FROM "global"."schema_migrations"
Migrating to RoomerCreateTenants (20110809065823)
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (6.3ms)[0m  CREATE TABLE "global"."tenants" ("id" serial primary key, "domain_name" character varying(255), "name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (0.4ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mPK and serial sequence (2.1ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"global"."schema_migrations"'::regclass
[0m
  [1m[35mPK and custom sequence (1.1ms)[0m   SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"global"."schema_migrations"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "global"."schema_migrations" ("version") VALUES ('20110809065823')[0m
  [1m[35mPK and serial sequence (1.5ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"global"."schema_migrations"'::regclass
  [1m[36mPK and custom sequence (0.7ms)[0m  [1m SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"global"."schema_migrations"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
[0m
  [1m[35mSQL (0.6ms)[0m  COMMIT
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.1ms)[0m  [1mSET search_path TO global[0m
  [1m[35mSQL (1.8ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 
  [1m[36mSQL (0.8ms)[0m  [1m SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (1.3ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.2ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
  [1m[35mSQL (0.3ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 
  [1m[36mSQL (0.4ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mSQL (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
Migrating to RoomerCreateTenants (20110809065823)
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  DROP TABLE "tenants"
  [1m[36mSQL (0.4ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mAREL (0.4ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20110809065823'
  [1m[36mSQL (0.7ms)[0m  [1mCOMMIT[0m
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.9ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (1.2ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.1ms)[0m  [1mSET search_path TO global[0m
  [1m[35mSQL (0.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.6ms)[0m  [1m SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (0.3ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (1.2ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mSQL (0.2ms)[0m  SELECT "global"."schema_migrations"."version" FROM "global"."schema_migrations"
Migrating to RoomerCreateTenants (20110809065823)
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (4.2ms)[0m  CREATE TABLE "global"."tenants" ("id" serial primary key, "domain_name" character varying(255), "name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36mSQL (0.5ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (0.4ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mPK and serial sequence (1.9ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"global"."schema_migrations"'::regclass
[0m
  [1m[35mPK and custom sequence (0.9ms)[0m   SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"global"."schema_migrations"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "global"."schema_migrations" ("version") VALUES ('20110809065823')[0m
  [1m[35mPK and serial sequence (1.3ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"global"."schema_migrations"'::regclass
  [1m[36mPK and custom sequence (0.7ms)[0m  [1m SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"global"."schema_migrations"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
[0m
  [1m[35mSQL (0.6ms)[0m  COMMIT
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.1ms)[0m  [1mSET search_path TO global[0m
  [1m[35mSQL (1.6ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 
  [1m[36mSQL (0.7ms)[0m  [1m SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (1.3ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.3ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
  [1m[35mSQL (0.3ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 
  [1m[36mSQL (0.4ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mSQL (0.2ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
Migrating to RoomerCreateTenants (20110809065823)
  [1m[36mSQL (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  DROP TABLE "tenants"
  [1m[36mSQL (0.4ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mAREL (0.4ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20110809065823'
  [1m[36mSQL (0.7ms)[0m  [1mCOMMIT[0m
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.1ms)[0m  [1mSET search_path TO global[0m
  [1m[35mSQL (1.7ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 
  [1m[36mSQL (0.7ms)[0m  [1m SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (1.2ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.3ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (1.0ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (1.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.2ms)[0m  [1mSET search_path TO global[0m
  [1m[35mSQL (0.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.6ms)[0m  [1m SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (0.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (1.3ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mSQL (0.3ms)[0m  SELECT "global"."schema_migrations"."version" FROM "global"."schema_migrations"
Migrating to RoomerCreateTenants (20110809065823)
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (4.1ms)[0m  CREATE TABLE "global"."tenants" ("id" serial primary key, "domain_name" character varying(255), "name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (0.4ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mPK and serial sequence (1.9ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"global"."schema_migrations"'::regclass
[0m
  [1m[35mPK and custom sequence (1.0ms)[0m   SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"global"."schema_migrations"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "global"."schema_migrations" ("version") VALUES ('20110809065823')[0m
  [1m[35mPK and serial sequence (1.5ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"global"."schema_migrations"'::regclass
  [1m[36mPK and custom sequence (0.9ms)[0m  [1m SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"global"."schema_migrations"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
[0m
  [1m[35mSQL (0.5ms)[0m  COMMIT
  [1m[36mSQL (11.4ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.2ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (24.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.2ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (155.1ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'barsonschema_migrations'
 
[0m
  [1m[35mSQL (90.9ms)[0m  CREATE TABLE "barsonschema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36mSQL (0.1ms)[0m  [1mSHOW search_path[0m
  [1m[35mSQL (26.5ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t, pg_class i, pg_index d
 WHERE i.relkind = 'i'
 AND d.indexrelid = i.oid
 AND d.indisprimary = 'f'
 AND t.oid = d.indrelid
 AND t.relname = 'barsonschema_migrations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname
  [1m[36mSQL (2.3ms)[0m  [1mCREATE UNIQUE INDEX "barsonunique_schema_migrations" ON "barsonschema_migrations" ("version")[0m
  [1m[35mSQL (0.3ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'barsonschema_info'
 
  [1m[36mSQL (7.4ms)[0m  [1m SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (24.0ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"barsonschema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.3ms)[0m  [1mSELECT "barsonschema_migrations"."version" FROM "barsonschema_migrations"[0m
Migrating to CreatePeople (20110809002507)
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mSQL (7.2ms)[0m  [1mCREATE TABLE "barsonpeople" ("id" serial primary key, "name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.4ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"barsonschema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mPK and serial sequence (5.5ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"barsonschema_migrations"'::regclass
[0m
  [1m[35mPK and custom sequence (2.8ms)[0m   SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"barsonschema_migrations"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "barsonschema_migrations" ("version") VALUES ('20110809002507')[0m
  [1m[35mPK and serial sequence (1.4ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"barsonschema_migrations"'::regclass
  [1m[36mPK and custom sequence (0.7ms)[0m  [1m SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"barsonschema_migrations"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
[0m
  [1m[35mSQL (0.4ms)[0m  COMMIT
  [1m[36mSQL (0.9ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'barsonschema_migrations'
 
[0m
  [1m[35mSQL (0.6ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"barsonschema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.2ms)[0m  [1mSELECT "barsonschema_migrations"."version" FROM "barsonschema_migrations"[0m
  [1m[35mSQL (0.5ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (0.4ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"barsonpeople"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mPK and serial sequence (1.6ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"barsonpeople"'::regclass
  [1m[36mSQL (0.7ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t, pg_class i, pg_index d
 WHERE i.relkind = 'i'
 AND d.indexrelid = i.oid
 AND d.indisprimary = 'f'
 AND t.oid = d.indrelid
 AND t.relname = 'barsonpeople'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname
[0m
  [1m[35mSQL (0.5ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"barsonschema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mPK and serial sequence (1.6ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"barsonschema_migrations"'::regclass
[0m
  [1m[35mPK and custom sequence (0.8ms)[0m   SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"barsonschema_migrations"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
  [1m[36mSQL (0.7ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t, pg_class i, pg_index d
 WHERE i.relkind = 'i'
 AND d.indexrelid = i.oid
 AND d.indisprimary = 'f'
 AND t.oid = d.indrelid
 AND t.relname = 'barsonschema_migrations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index barsonunique_schema_migrations on barsonschema_migrations (0.3ms)[0m   SELECT a.attnum, a.attname
 FROM pg_attribute a
 WHERE a.attrelid = 16618
 AND a.attnum IN (1)
  [1m[36mSQL (0.7ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"films"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mPK and serial sequence (1.4ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"films"'::regclass
  [1m[36mPK and custom sequence (0.7ms)[0m  [1m SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"films"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
[0m
  [1m[35mSQL (0.6ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t, pg_class i, pg_index d
 WHERE i.relkind = 'i'
 AND d.indexrelid = i.oid
 AND d.indisprimary = 'f'
 AND t.oid = d.indrelid
 AND t.relname = 'films'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname
  [1m[36mSQL (0.9ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"people"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mPK and serial sequence (1.4ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"people"'::regclass
  [1m[36mSQL (0.6ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t, pg_class i, pg_index d
 WHERE i.relkind = 'i'
 AND d.indexrelid = i.oid
 AND d.indisprimary = 'f'
 AND t.oid = d.indrelid
 AND t.relname = 'people'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname
[0m
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.2ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.0ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (1.9ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'barson'
[0m
  [1m[35mSQL (0.3ms)[0m  CREATE TABLE "barson"."schema_migrations" ("version" character varying(255) NOT NULL) 
PGError: ERROR:  schema "barson" does not exist
: CREATE TABLE "barson"."schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (1.5ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'barsonschema_migrations'
 
[0m
  [1m[35mSQL (0.7ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (1.4ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"barsonschema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mSQL (0.3ms)[0m  SELECT "barsonschema_migrations"."version" FROM "barsonschema_migrations"
  [1m[36mSQL (0.2ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'barsonschema_migrations'
 
[0m
  [1m[35mSQL (0.3ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"barsonschema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "barsonschema_migrations"."version" FROM "barsonschema_migrations"[0m
Migrating to CreatePeople (20110809002507)
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mSQL (50.4ms)[0m  [1mDROP TABLE "barsonpeople"[0m
  [1m[35mSQL (0.5ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"barsonschema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mAREL (0.4ms)[0m  [1mDELETE FROM "barsonschema_migrations" WHERE "barsonschema_migrations"."version" = '20110809002507'[0m
  [1m[35mSQL (0.6ms)[0m  COMMIT
  [1m[36mSQL (0.5ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'barsonschema_migrations'
 
[0m
  [1m[35mSQL (0.6ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"barsonschema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "barsonschema_migrations"."version" FROM "barsonschema_migrations"[0m
  [1m[35mSQL (0.5ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (0.4ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"barsonschema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mPK and serial sequence (2.1ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"barsonschema_migrations"'::regclass
  [1m[36mPK and custom sequence (1.1ms)[0m  [1m SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"barsonschema_migrations"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
[0m
  [1m[35mSQL (0.2ms)[0m  SHOW search_path
  [1m[36mSQL (1.5ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t, pg_class i, pg_index d
 WHERE i.relkind = 'i'
 AND d.indexrelid = i.oid
 AND d.indisprimary = 'f'
 AND t.oid = d.indrelid
 AND t.relname = 'barsonschema_migrations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname
[0m
  [1m[35mColumns for index barsonunique_schema_migrations on barsonschema_migrations (0.3ms)[0m   SELECT a.attnum, a.attname
 FROM pg_attribute a
 WHERE a.attrelid = 16618
 AND a.attnum IN (1)
  [1m[36mSQL (0.4ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"films"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mPK and serial sequence (1.4ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"films"'::regclass
  [1m[36mPK and custom sequence (0.8ms)[0m  [1m SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"films"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
[0m
  [1m[35mSQL (0.6ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t, pg_class i, pg_index d
 WHERE i.relkind = 'i'
 AND d.indexrelid = i.oid
 AND d.indisprimary = 'f'
 AND t.oid = d.indrelid
 AND t.relname = 'films'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname
  [1m[36mSQL (0.5ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"people"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mPK and serial sequence (1.4ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"people"'::regclass
  [1m[36mSQL (0.6ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t, pg_class i, pg_index d
 WHERE i.relkind = 'i'
 AND d.indexrelid = i.oid
 AND d.indisprimary = 'f'
 AND t.oid = d.indrelid
 AND t.relname = 'people'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname
[0m
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.2ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (24.1ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (24.3ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (42.9ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.1ms)[0m  [1mSET search_path TO global[0m
  [1m[35mSQL (0.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (7.7ms)[0m  [1m SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (0.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (31.7ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mSQL (25.8ms)[0m  SELECT "global"."schema_migrations"."version" FROM "global"."schema_migrations"
Migrating to RoomerCreateTenants (20110810010615)
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (44.0ms)[0m  CREATE TABLE "global"."tenants" ("id" serial primary key, "domain_name" character varying(255), "name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
PGError: ERROR:  relation "tenants" already exists
: CREATE TABLE "global"."tenants" ("id" serial primary key, "domain_name" character varying(255), "name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36mSQL (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (49.7ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.2ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (47.6ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (24.4ms)[0m  CREATE SCHEMA global
  [1m[36mSQL (29.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (53.5ms)[0m  CREATE TABLE "global"."schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36mSQL (0.1ms)[0m  [1mSHOW search_path[0m
  [1m[35mSQL (7.4ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t, pg_class i, pg_index d
 WHERE i.relkind = 'i'
 AND d.indexrelid = i.oid
 AND d.indisprimary = 'f'
 AND t.oid = d.indrelid
 AND t.relname = 'global.schema_migrations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname
  [1m[36mSQL (13.6ms)[0m  [1mCREATE UNIQUE INDEX "global.unique_schema_migrations" ON "global"."schema_migrations" ("version")[0m
  [1m[35mSQL (0.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_info'
 AND schemaname = 'global'
  [1m[36mSQL (0.1ms)[0m  [1mSET search_path TO global[0m
  [1m[35mSQL (0.3ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.9ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (1.3ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.1ms)[0m  [1mSET search_path TO global[0m
  [1m[35mSQL (0.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.9ms)[0m  [1m SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (0.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (36.7ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mSQL (0.3ms)[0m  SELECT "global"."schema_migrations"."version" FROM "global"."schema_migrations"
Migrating to RoomerCreateTenants (20110810172824)
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (33.9ms)[0m  CREATE TABLE "global"."tenants" ("id" serial primary key, "domain_name" character varying(255), "name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36mSQL (0.7ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (0.4ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mPK and serial sequence (4.3ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"global"."schema_migrations"'::regclass
[0m
  [1m[35mPK and custom sequence (32.8ms)[0m   SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"global"."schema_migrations"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "global"."schema_migrations" ("version") VALUES ('20110810172824')[0m
  [1m[35mPK and serial sequence (1.5ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"global"."schema_migrations"'::regclass
  [1m[36mPK and custom sequence (0.8ms)[0m  [1m SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"global"."schema_migrations"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
[0m
  [1m[35mSQL (0.7ms)[0m  COMMIT
DEPRECATION WARNING: config.action_view.debug_rjs will be removed in 3.1, from 3.1 onwards you will need to install prototype-rails to continue to use RJS templates . (called from service at /Users/gosuri/.rvm/rubies/ruby-1.8.7-p160/lib/ruby/1.8/webrick/httpserver.rb:104)


Started GET "/person/show" for 127.0.0.1 at Wed Aug 10 12:26:53 -0700 2011
  [1m[36mSQL (32.9ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (65.1ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE

ActionController::RoutingError (No route matches "/person/show"):
  

Rendered /Users/gosuri/.rvm/gems/ruby-1.8.7-p160@roomer/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/person/show?subdomain=dope" for 127.0.0.1 at Wed Aug 10 12:28:07 -0700 2011
  Processing by PersonController#show as HTML
  Parameters: {"subdomain"=>"dope"}
DEBUG ************ dope
Completed 500 Internal Server Error in 21ms

ActionView::MissingTemplate (Missing template person/show with {:locale=>[:en, :en], :formats=>[:html], :handlers=>[:erb, :rjs, :rhtml, :rxml, :builder]} in view paths "/Users/gosuri/Projects/roomer-test/app/views", "/Users/gosuri/Projects/roomer/app/views"):
  

Rendered /Users/gosuri/.rvm/gems/ruby-1.8.7-p160@roomer/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/missing_template.erb within rescues/layout (0.5ms)


Started GET "/person/show?subdomain=dope" for 127.0.0.1 at Wed Aug 10 12:31:15 -0700 2011
  Processing by PersonController#show as HTML
  Parameters: {"subdomain"=>"dope"}
DEBUG ************ Starting dope
DEBUG ************ Completed dope
Completed 500 Internal Server Error in 10028ms

ActionView::MissingTemplate (Missing template person/show with {:locale=>[:en, :en], :formats=>[:html], :handlers=>[:erb, :rjs, :rhtml, :rxml, :builder]} in view paths "/Users/gosuri/Projects/roomer-test/app/views", "/Users/gosuri/Projects/roomer/app/views"):
  

Rendered /Users/gosuri/.rvm/gems/ruby-1.8.7-p160@roomer/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/missing_template.erb within rescues/layout (0.5ms)


Started GET "/person/show?subdomain=some" for 127.0.0.1 at Wed Aug 10 12:31:26 -0700 2011
  Processing by PersonController#show as HTML
  Parameters: {"subdomain"=>"some"}
DEBUG ************ Starting some
DEBUG ************ Completed some
Completed 500 Internal Server Error in 10007ms

ActionView::MissingTemplate (Missing template person/show with {:locale=>[:en, :en], :formats=>[:html], :handlers=>[:erb, :rjs, :rhtml, :rxml, :builder]} in view paths "/Users/gosuri/Projects/roomer-test/app/views", "/Users/gosuri/Projects/roomer/app/views"):
  

Rendered /Users/gosuri/.rvm/gems/ruby-1.8.7-p160@roomer/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/missing_template.erb within rescues/layout (0.4ms)


Started GET "/person/show?subdomain=dope" for 127.0.0.1 at Wed Aug 10 12:32:06 -0700 2011
  Processing by PersonController#show as HTML
  Parameters: {"subdomain"=>"dope"}
DEBUG ************ Starting dope
DEBUG ************ Completed dope
Completed 500 Internal Server Error in 10008ms

ActionView::MissingTemplate (Missing template person/show with {:locale=>[:en, :en], :formats=>[:html], :handlers=>[:erb, :rjs, :rhtml, :rxml, :builder]} in view paths "/Users/gosuri/Projects/roomer-test/app/views", "/Users/gosuri/Projects/roomer/app/views"):
  

Rendered /Users/gosuri/.rvm/gems/ruby-1.8.7-p160@roomer/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/missing_template.erb within rescues/layout (0.5ms)


Started GET "/person/show?subdomain=some" for 127.0.0.1 at Wed Aug 10 12:32:16 -0700 2011
  Processing by PersonController#show as HTML
  Parameters: {"subdomain"=>"some"}
DEBUG ************ Starting some
DEBUG ************ Completed some
Completed 500 Internal Server Error in 10009ms

ActionView::MissingTemplate (Missing template person/show with {:locale=>[:en, :en], :formats=>[:html], :handlers=>[:erb, :rjs, :rhtml, :rxml, :builder]} in view paths "/Users/gosuri/Projects/roomer-test/app/views", "/Users/gosuri/Projects/roomer/app/views"):
  

Rendered /Users/gosuri/.rvm/gems/ruby-1.8.7-p160@roomer/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/missing_template.erb within rescues/layout (0.5ms)


Started GET "/person/show?subdomain=some" for 127.0.0.1 at Wed Aug 10 12:33:25 -0700 2011
  Processing by PersonController#show as HTML
  Parameters: {"subdomain"=>"some"}
DEBUG ************ Starting some
DEBUG ************ Completed some
Completed 500 Internal Server Error in 30007ms

ActionView::MissingTemplate (Missing template person/show with {:locale=>[:en, :en], :formats=>[:html], :handlers=>[:erb, :rjs, :rhtml, :rxml, :builder]} in view paths "/Users/gosuri/Projects/roomer-test/app/views", "/Users/gosuri/Projects/roomer/app/views"):
  

Rendered /Users/gosuri/.rvm/gems/ruby-1.8.7-p160@roomer/gems/actionpack-3.0.9/lib/action_dispatch/middleware/templates/rescues/missing_template.erb within rescues/layout (0.5ms)
  [1m[36mSQL (1.0ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (22.8ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (78.6ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.2ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.9ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (1.5ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.6ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[36mSQL (0.2ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.9ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (1.9ms)[0m  CREATE SCHEMA global
  [1m[36mSQL (1.2ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (331.1ms)[0m  CREATE TABLE "global"."schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36mSQL (0.1ms)[0m  [1mSHOW search_path[0m
  [1m[35mSQL (13.3ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t, pg_class i, pg_index d
 WHERE i.relkind = 'i'
 AND d.indexrelid = i.oid
 AND d.indisprimary = 'f'
 AND t.oid = d.indrelid
 AND t.relname = 'global.schema_migrations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname
  [1m[36mSQL (2.3ms)[0m  [1mCREATE UNIQUE INDEX "global.unique_schema_migrations" ON "global"."schema_migrations" ("version")[0m
  [1m[35mSQL (0.3ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_info'
 AND schemaname = 'global'
  [1m[36mSQL (0.3ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.4ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (1.1ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (1.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[36mSQL (0.2ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (1.0ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (1.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[36mSQL (0.2ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.0ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.9ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (1.2ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.9ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (1.2ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[36mSQL (0.2ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.9ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (1.2ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.9ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (1.2ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.3ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.9ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (1.2ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[36mSQL (0.2ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.9ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (1.3ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (1.0ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (1.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (1.0ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (1.3ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (17.8ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (37.7ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.3ms)[0m  [1mSELECT "global"."schema_migrations"."version" FROM "global"."schema_migrations"[0m
Migrating to RoomerCreate_ (20110812011544)
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mSQL (0.2ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (1.1ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (1.5ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.0ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (1.0ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (1.3ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[36mSQL (0.2ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.9ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (1.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (0.6ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (0.3ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (1.2ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.3ms)[0m  [1mSELECT "global"."schema_migrations"."version" FROM "global"."schema_migrations"[0m
Migrating to RoomerCreateTenant (20110812012536)
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (87.9ms)[0m  [1mCREATE TABLE "global"."tenant" ("id" serial primary key, "name" character varying(255), "url_identifier" character varying(255), "namespace" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.5ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mPK and serial sequence (5.0ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"global"."schema_migrations"'::regclass
  [1m[36mPK and custom sequence (2.0ms)[0m  [1m SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"global"."schema_migrations"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "global"."schema_migrations" ("version") VALUES ('20110812012536')
  [1m[36mPK and serial sequence (1.5ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"global"."schema_migrations"'::regclass
[0m
  [1m[35mPK and custom sequence (0.8ms)[0m   SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"global"."schema_migrations"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.9ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (1.2ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.9ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (1.3ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.9ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (1.6ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (1.0ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (1.3ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.9ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (1.3ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (0.7ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (1.3ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.3ms)[0m  [1mSELECT "global"."schema_migrations"."version" FROM "global"."schema_migrations"[0m
  [1m[35mSQL (0.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (0.4ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "global"."schema_migrations"."version" FROM "global"."schema_migrations"[0m
Migrating to RoomerCreateTenant (20110812012536)
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (1.3ms)[0m  [1mDROP TABLE "global"."tenant"[0m
  [1m[35mSQL (0.5ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mAREL (0.5ms)[0m  DELETE FROM "global"."schema_migrations" WHERE "global"."schema_migrations"."version" = '20110812012536'
  [1m[36mSQL (1.9ms)[0m  [1mCOMMIT[0m
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.2ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.0ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.9ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (1.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (0.5ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (0.3ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (1.2ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.2ms)[0m  [1mSELECT "global"."schema_migrations"."version" FROM "global"."schema_migrations"[0m
Migrating to RoomerCreateTenant (20110812012536)
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (4.3ms)[0m  [1mCREATE TABLE "global"."tenant" ("id" serial primary key, "name" character varying(255), "url_identifier" character varying(255), "namespace" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mPK and serial sequence (2.0ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"global"."schema_migrations"'::regclass
  [1m[36mPK and custom sequence (1.0ms)[0m  [1m SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"global"."schema_migrations"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "global"."schema_migrations" ("version") VALUES ('20110812012536')
  [1m[36mPK and serial sequence (1.4ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"global"."schema_migrations"'::regclass
[0m
  [1m[35mPK and custom sequence (0.8ms)[0m   SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"global"."schema_migrations"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
  [1m[36mSQL (1.2ms)[0m  [1mCOMMIT[0m
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.0ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.9ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (1.3ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (0.6ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (1.2ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.2ms)[0m  [1mSELECT "global"."schema_migrations"."version" FROM "global"."schema_migrations"[0m
  [1m[35mSQL (0.3ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.3ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (0.3ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "global"."schema_migrations"."version" FROM "global"."schema_migrations"[0m
Migrating to RoomerCreateTenant (20110812012536)
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mSQL (1.1ms)[0m  [1mDROP TABLE "global"."tenant"[0m
  [1m[35mSQL (0.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mAREL (0.4ms)[0m  DELETE FROM "global"."schema_migrations" WHERE "global"."schema_migrations"."version" = '20110812012536'
  [1m[36mSQL (0.8ms)[0m  [1mCOMMIT[0m
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.2ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (1.9ms)[0m  [1m SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (0.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'people'
 AND schemaname = 'emmis'
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.2ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.2ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (23.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (1.8ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 
[0m
  [1m[35mSQL (0.7ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (28.2ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mSQL (34.7ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
  [1m[36mSQL (27.2ms)[0m  [1mSET search_path TO public[0m
  [1m[35mSQL (8.6ms)[0m  SHOW client_min_messages
  [1m[36mSQL (0.1ms)[0m  [1mSET client_min_messages TO 'panic'[0m
  [1m[35mSQL (0.1ms)[0m  SET standard_conforming_strings = on
  [1m[36mSQL (0.0ms)[0m  [1mSET client_min_messages TO 'notice'[0m
  [1m[35mSQL (0.3ms)[0m  SET time zone 'UTC'
  [1m[36mSQL (0.0ms)[0m  [1mSHOW TIME ZONE[0m
  [1m[35mSQL (143.2ms)[0m  DROP DATABASE IF EXISTS "multi_test"
  [1m[36mSQL (0.2ms)[0m  [1mSET search_path TO public[0m
  [1m[35mSQL (0.2ms)[0m  SHOW client_min_messages
  [1m[36mSQL (0.1ms)[0m  [1mSET client_min_messages TO 'panic'[0m
  [1m[35mSQL (0.1ms)[0m  SET standard_conforming_strings = on
  [1m[36mSQL (0.1ms)[0m  [1mSET client_min_messages TO 'notice'[0m
  [1m[35mSQL (0.3ms)[0m  SET time zone 'UTC'
  [1m[36mSQL (0.1ms)[0m  [1mSHOW TIME ZONE[0m
  [1m[35mSQL (451.4ms)[0m  CREATE DATABASE "multi_test" ENCODING = 'unicode'
  [1m[36mSQL (0.2ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.2ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.0ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (1.7ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'barsonschema_migrations'
 
[0m
  [1m[35mSQL (2.7ms)[0m  CREATE TABLE "barsonschema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36mSQL (0.1ms)[0m  [1mSHOW search_path[0m
  [1m[35mSQL (1.6ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t, pg_class i, pg_index d
 WHERE i.relkind = 'i'
 AND d.indexrelid = i.oid
 AND d.indisprimary = 'f'
 AND t.oid = d.indrelid
 AND t.relname = 'barsonschema_migrations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname
  [1m[36mSQL (1.3ms)[0m  [1mCREATE UNIQUE INDEX "barsonunique_schema_migrations" ON "barsonschema_migrations" ("version")[0m
  [1m[35mSQL (0.3ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'films'
 
  [1m[36mSQL (0.8ms)[0m  [1mCREATE TABLE "films" ("code" character varying(5) NOT NULL, "title" character varying(40) NOT NULL, "did" integer NOT NULL, "date_prod" date, "kind" character varying(10), "len" integer) [0m
  [1m[35mSQL (0.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'people'
 
  [1m[36mSQL (4.1ms)[0m  [1mCREATE TABLE "people" ("id" serial primary key, "name" character varying(255), "age" integer, "gender" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 
  [1m[36mSQL (1.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35mSQL (0.7ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t, pg_class i, pg_index d
 WHERE i.relkind = 'i'
 AND d.indexrelid = i.oid
 AND d.indisprimary = 'f'
 AND t.oid = d.indrelid
 AND t.relname = 'schema_migrations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname
  [1m[36mSQL (1.0ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mSQL (0.3ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_info'
 
  [1m[36mSQL (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('0')
  [1m[36mSQL (17.8ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (68.6ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 
[0m
  [1m[35mSQL (14.1ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (17.0ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mSQL (0.5ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
  [1m[36mSQL (0.2ms)[0m  [1mSET search_path TO public[0m
  [1m[35mSQL (0.2ms)[0m  SHOW client_min_messages
  [1m[36mSQL (0.1ms)[0m  [1mSET client_min_messages TO 'panic'[0m
  [1m[35mSQL (0.1ms)[0m  SET standard_conforming_strings = on
  [1m[36mSQL (0.0ms)[0m  [1mSET client_min_messages TO 'notice'[0m
  [1m[35mSQL (0.3ms)[0m  SET time zone 'UTC'
  [1m[36mSQL (0.1ms)[0m  [1mSHOW TIME ZONE[0m
  [1m[35mSQL (117.3ms)[0m  DROP DATABASE IF EXISTS "multi_test"
  [1m[36mSQL (0.2ms)[0m  [1mSET search_path TO public[0m
  [1m[35mSQL (0.1ms)[0m  SHOW client_min_messages
  [1m[36mSQL (0.1ms)[0m  [1mSET client_min_messages TO 'panic'[0m
  [1m[35mSQL (0.1ms)[0m  SET standard_conforming_strings = on
  [1m[36mSQL (0.0ms)[0m  [1mSET client_min_messages TO 'notice'[0m
  [1m[35mSQL (0.3ms)[0m  SET time zone 'UTC'
  [1m[36mSQL (0.1ms)[0m  [1mSHOW TIME ZONE[0m
  [1m[35mSQL (262.8ms)[0m  CREATE DATABASE "multi_test" ENCODING = 'unicode'
  [1m[36mSQL (0.2ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.2ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (1.7ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'barsonschema_migrations'
 
[0m
  [1m[35mSQL (3.1ms)[0m  CREATE TABLE "barsonschema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36mSQL (0.1ms)[0m  [1mSHOW search_path[0m
  [1m[35mSQL (1.7ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t, pg_class i, pg_index d
 WHERE i.relkind = 'i'
 AND d.indexrelid = i.oid
 AND d.indisprimary = 'f'
 AND t.oid = d.indrelid
 AND t.relname = 'barsonschema_migrations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname
  [1m[36mSQL (1.3ms)[0m  [1mCREATE UNIQUE INDEX "barsonunique_schema_migrations" ON "barsonschema_migrations" ("version")[0m
  [1m[35mSQL (0.3ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'films'
 
  [1m[36mSQL (0.8ms)[0m  [1mCREATE TABLE "films" ("code" character varying(5) NOT NULL, "title" character varying(40) NOT NULL, "did" integer NOT NULL, "date_prod" date, "kind" character varying(10), "len" integer) [0m
  [1m[35mSQL (0.2ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'people'
 
  [1m[36mSQL (5.0ms)[0m  [1mCREATE TABLE "people" ("id" serial primary key, "name" character varying(255), "age" integer, "gender" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 
  [1m[36mSQL (0.8ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35mSQL (0.7ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t, pg_class i, pg_index d
 WHERE i.relkind = 'i'
 AND d.indexrelid = i.oid
 AND d.indisprimary = 'f'
 AND t.oid = d.indrelid
 AND t.relname = 'schema_migrations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname
  [1m[36mSQL (1.0ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mSQL (0.2ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_info'
 
  [1m[36mSQL (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('0')
  [1m[36mSQL (0.2ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (52.1ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 
[0m
  [1m[35mSQL (0.8ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (1.5ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mSQL (0.3ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
  [1m[36mSQL (0.2ms)[0m  [1mSET search_path TO public[0m
  [1m[35mSQL (0.2ms)[0m  SHOW client_min_messages
  [1m[36mSQL (0.1ms)[0m  [1mSET client_min_messages TO 'panic'[0m
  [1m[35mSQL (0.1ms)[0m  SET standard_conforming_strings = on
  [1m[36mSQL (0.0ms)[0m  [1mSET client_min_messages TO 'notice'[0m
  [1m[35mSQL (0.3ms)[0m  SET time zone 'UTC'
  [1m[36mSQL (0.1ms)[0m  [1mSHOW TIME ZONE[0m
  [1m[35mSQL (111.4ms)[0m  DROP DATABASE IF EXISTS "multi_test"
  [1m[36mSQL (0.1ms)[0m  [1mSET search_path TO public[0m
  [1m[35mSQL (0.1ms)[0m  SHOW client_min_messages
  [1m[36mSQL (0.1ms)[0m  [1mSET client_min_messages TO 'panic'[0m
  [1m[35mSQL (0.1ms)[0m  SET standard_conforming_strings = on
  [1m[36mSQL (0.0ms)[0m  [1mSET client_min_messages TO 'notice'[0m
  [1m[35mSQL (0.3ms)[0m  SET time zone 'UTC'
  [1m[36mSQL (0.0ms)[0m  [1mSHOW TIME ZONE[0m
  [1m[35mSQL (255.8ms)[0m  CREATE DATABASE "multi_test" ENCODING = 'unicode'
  [1m[36mSQL (0.2ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (1.9ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'barsonschema_migrations'
 
[0m
  [1m[35mSQL (4.0ms)[0m  CREATE TABLE "barsonschema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36mSQL (0.2ms)[0m  [1mSHOW search_path[0m
  [1m[35mSQL (1.8ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t, pg_class i, pg_index d
 WHERE i.relkind = 'i'
 AND d.indexrelid = i.oid
 AND d.indisprimary = 'f'
 AND t.oid = d.indrelid
 AND t.relname = 'barsonschema_migrations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname
  [1m[36mSQL (2.0ms)[0m  [1mCREATE UNIQUE INDEX "barsonunique_schema_migrations" ON "barsonschema_migrations" ("version")[0m
  [1m[35mSQL (0.3ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'films'
 
  [1m[36mSQL (0.9ms)[0m  [1mCREATE TABLE "films" ("code" character varying(5) NOT NULL, "title" character varying(40) NOT NULL, "did" integer NOT NULL, "date_prod" date, "kind" character varying(10), "len" integer) [0m
  [1m[35mSQL (0.3ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'people'
 
  [1m[36mSQL (5.3ms)[0m  [1mCREATE TABLE "people" ("id" serial primary key, "name" character varying(255), "age" integer, "gender" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 
  [1m[36mSQL (1.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35mSQL (0.7ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t, pg_class i, pg_index d
 WHERE i.relkind = 'i'
 AND d.indexrelid = i.oid
 AND d.indisprimary = 'f'
 AND t.oid = d.indrelid
 AND t.relname = 'schema_migrations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname
  [1m[36mSQL (1.0ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mSQL (0.2ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_info'
 
  [1m[36mSQL (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('0')
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (1.6ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (1.5ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (0.7ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (28.1ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (13.3ms)[0m  [1mSELECT "global"."schema_migrations"."version" FROM "global"."schema_migrations"[0m
Migrating to RoomerCreateTenant (20110812012536)
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (125.4ms)[0m  [1mCREATE TABLE "global"."tenant" ("id" serial primary key, "name" character varying(255), "url_identifier" character varying(255), "namespace" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.5ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mPK and serial sequence (13.0ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"global"."schema_migrations"'::regclass
  [1m[36mPK and custom sequence (19.9ms)[0m  [1m SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"global"."schema_migrations"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
[0m
  [1m[35mSQL (7.1ms)[0m  INSERT INTO "global"."schema_migrations" ("version") VALUES ('20110812012536')
  [1m[36mPK and serial sequence (1.5ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"global"."schema_migrations"'::regclass
[0m
  [1m[35mPK and custom sequence (0.7ms)[0m   SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"global"."schema_migrations"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
  [1m[36mSQL (0.7ms)[0m  [1mCOMMIT[0m
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (1.1ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (1.5ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (0.6ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (1.3ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.3ms)[0m  [1mSELECT "global"."schema_migrations"."version" FROM "global"."schema_migrations"[0m
  [1m[35mSQL (0.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (0.3ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "global"."schema_migrations"."version" FROM "global"."schema_migrations"[0m
Migrating to RoomerCreateTenant (20110812012536)
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mSQL (3.5ms)[0m  [1mDROP TABLE "global"."tenant"[0m
  [1m[35mSQL (0.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mAREL (0.6ms)[0m  DELETE FROM "global"."schema_migrations" WHERE "global"."schema_migrations"."version" = '20110812012536'
  [1m[36mSQL (0.6ms)[0m  [1mCOMMIT[0m
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  COMMIT
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (1.0ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (1.3ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (0.6ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (1.2ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.2ms)[0m  [1mSELECT "global"."schema_migrations"."version" FROM "global"."schema_migrations"[0m
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.9ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (1.3ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (0.6ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (1.3ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.3ms)[0m  [1mSELECT "global"."schema_migrations"."version" FROM "global"."schema_migrations"[0m
Migrating to RoomerCreateTenants (20110812205711)
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (8.2ms)[0m  [1mCREATE TABLE "global"."tenants" ("id" serial primary key, "name" character varying(255), "url_identifier" character varying(255), "namespace" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mPK and serial sequence (2.2ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"global"."schema_migrations"'::regclass
  [1m[36mPK and custom sequence (1.7ms)[0m  [1m SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"global"."schema_migrations"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "global"."schema_migrations" ("version") VALUES ('20110812205711')
  [1m[36mPK and serial sequence (1.5ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"global"."schema_migrations"'::regclass
[0m
  [1m[35mPK and custom sequence (0.7ms)[0m   SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"global"."schema_migrations"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.2ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (8.9ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (1.7ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (0.6ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (1.3ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.3ms)[0m  [1mSELECT "global"."schema_migrations"."version" FROM "global"."schema_migrations"[0m
  [1m[35mSQL (0.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (0.4ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "global"."schema_migrations"."version" FROM "global"."schema_migrations"[0m
Migrating to RoomerCreateTenants (20110812205711)
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mSQL (1.3ms)[0m  [1mDROP TABLE "global"."tenants"[0m
  [1m[35mSQL (0.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.3ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mAREL (0.4ms)[0m  DELETE FROM "global"."schema_migrations" WHERE "global"."schema_migrations"."version" = '20110812205711'
  [1m[36mSQL (0.7ms)[0m  [1mCOMMIT[0m
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (36.6ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'globalnew_guys'
 
[0m
  [1m[35mSQL (0.6ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'globalnew_guys'
 
  [1m[36mSQL (0.5ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'globalnew_guys'
 
[0m
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (1.6ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'normals'
 
[0m
  [1m[35mSQL (0.6ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'normals'
 
  [1m[36mSQL (0.5ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'normals'
 
[0m
  [1m[35mSQL (0.5ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'normals'
 
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (1.6ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'abnormals'
 
[0m
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (16.8ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (1.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (0.9ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (0.3ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (3.3ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.3ms)[0m  [1mSELECT "global"."schema_migrations"."version" FROM "global"."schema_migrations"[0m
Migrating to RoomerCreateTenants (20110813014715)
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (56.5ms)[0m  [1mCREATE TABLE "global"."tenants" ("id" serial primary key, "name" character varying(255), "url_identifier" character varying(255), "namespace" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.5ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mPK and serial sequence (5.7ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"global"."schema_migrations"'::regclass
  [1m[36mPK and custom sequence (1.9ms)[0m  [1m SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"global"."schema_migrations"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "global"."schema_migrations" ("version") VALUES ('20110813014715')
  [1m[36mPK and serial sequence (1.3ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"global"."schema_migrations"'::regclass
[0m
  [1m[35mPK and custom sequence (0.7ms)[0m   SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"global"."schema_migrations"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.9ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (10.2ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.3ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (0.5ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (0.3ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (1.3ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.3ms)[0m  [1mSELECT "global"."schema_migrations"."version" FROM "global"."schema_migrations"[0m
  [1m[35mSQL (0.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (0.3ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "global"."schema_migrations"."version" FROM "global"."schema_migrations"[0m
Migrating to RoomerCreateTenants (20110813014715)
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mSQL (7.2ms)[0m  [1mDROP TABLE "global"."tenants"[0m
  [1m[35mSQL (0.5ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mAREL (0.4ms)[0m  DELETE FROM "global"."schema_migrations" WHERE "global"."schema_migrations"."version" = '20110813014715'
  [1m[36mSQL (0.6ms)[0m  [1mCOMMIT[0m
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (21.3ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (1.5ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (0.6ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (0.5ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (1.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.3ms)[0m  [1mSELECT "global"."schema_migrations"."version" FROM "global"."schema_migrations"[0m
Migrating to RoomerCreateTenants (20110813014715)
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (43.8ms)[0m  [1mCREATE TABLE "global"."tenants" ("id" serial primary key, "name" character varying(255), "url_identifier" character varying(255), "namespace" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.5ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mPK and serial sequence (4.9ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"global"."schema_migrations"'::regclass
  [1m[36mPK and custom sequence (1.4ms)[0m  [1m SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"global"."schema_migrations"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "global"."schema_migrations" ("version") VALUES ('20110813014715')
  [1m[36mPK and serial sequence (1.5ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"global"."schema_migrations"'::regclass
[0m
  [1m[35mPK and custom sequence (0.7ms)[0m   SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"global"."schema_migrations"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
  [1m[36mSQL (0.7ms)[0m  [1mCOMMIT[0m
  [1m[36mSQL (14.0ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.2ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (1.3ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (22.6ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.3ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (0.6ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (0.3ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (10.7ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.2ms)[0m  [1mSELECT "global"."schema_migrations"."version" FROM "global"."schema_migrations"[0m
  [1m[35mSQL (0.3ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.3ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (0.3ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "global"."schema_migrations"."version" FROM "global"."schema_migrations"[0m
Migrating to RoomerCreateTenants (20110813014715)
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mSQL (1.8ms)[0m  [1mDROP TABLE "global"."tenants"[0m
  [1m[35mSQL (0.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.3ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mAREL (0.4ms)[0m  DELETE FROM "global"."schema_migrations" WHERE "global"."schema_migrations"."version" = '20110813014715'
  [1m[36mSQL (0.8ms)[0m  [1mCOMMIT[0m
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.9ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (1.2ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (0.6ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (1.3ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.3ms)[0m  [1mSELECT "global"."schema_migrations"."version" FROM "global"."schema_migrations"[0m
Migrating to RoomerCreateTenants (20110813014715)
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (4.1ms)[0m  [1mCREATE TABLE "global"."tenants" ("id" serial primary key, "name" character varying(255), "url_identifier" character varying(255), "namespace" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mPK and serial sequence (2.0ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"global"."schema_migrations"'::regclass
  [1m[36mPK and custom sequence (1.0ms)[0m  [1m SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"global"."schema_migrations"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "global"."schema_migrations" ("version") VALUES ('20110813014715')
  [1m[36mPK and serial sequence (1.4ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"global"."schema_migrations"'::regclass
[0m
  [1m[35mPK and custom sequence (0.7ms)[0m   SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"global"."schema_migrations"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
  [1m[36mSQL (0.5ms)[0m  [1mCOMMIT[0m
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.0ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (1.1ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (1.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (0.6ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (0.3ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (1.4ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.3ms)[0m  [1mSELECT "global"."schema_migrations"."version" FROM "global"."schema_migrations"[0m
  [1m[35mSQL (0.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.3ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (0.3ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "global"."schema_migrations"."version" FROM "global"."schema_migrations"[0m
Migrating to RoomerCreateTenants (20110813014715)
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (1.4ms)[0m  [1mDROP TABLE "global"."tenants"[0m
  [1m[35mSQL (0.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mAREL (0.4ms)[0m  DELETE FROM "global"."schema_migrations" WHERE "global"."schema_migrations"."version" = '20110813014715'
  [1m[36mSQL (1.9ms)[0m  [1mCOMMIT[0m
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (1.0ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (1.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (0.6ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (1.3ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.2ms)[0m  [1mSELECT "global"."schema_migrations"."version" FROM "global"."schema_migrations"[0m
  [1m[36mSQL (0.2ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.9ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (1.3ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.2ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.9ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (1.3ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (0.6ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (1.2ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.3ms)[0m  [1mSELECT "global"."schema_migrations"."version" FROM "global"."schema_migrations"[0m
Migrating to RoomerCreateTenants (20110813014715)
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (120.6ms)[0m  [1mCREATE TABLE "global"."tenants" ("id" serial primary key, "name" character varying(255), "url_identifier" character varying(255), "namespace" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.5ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mPK and serial sequence (2.1ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"global"."schema_migrations"'::regclass
  [1m[36mPK and custom sequence (231.3ms)[0m  [1m SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"global"."schema_migrations"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "global"."schema_migrations" ("version") VALUES ('20110813014715')
  [1m[36mPK and serial sequence (1.5ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"global"."schema_migrations"'::regclass
[0m
  [1m[35mPK and custom sequence (0.7ms)[0m   SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"global"."schema_migrations"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
  [1m[36mSQL (0.4ms)[0m  [1mCOMMIT[0m
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (0.9ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (1.2ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (0.6ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (0.3ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (1.3ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.2ms)[0m  [1mSELECT "global"."schema_migrations"."version" FROM "global"."schema_migrations"[0m
  [1m[35mSQL (0.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (0.3ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "global"."schema_migrations"."version" FROM "global"."schema_migrations"[0m
Migrating to RoomerCreateTenants (20110813014715)
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mSQL (68.5ms)[0m  [1mDROP TABLE "global"."tenants"[0m
  [1m[35mSQL (0.5ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mAREL (0.4ms)[0m  DELETE FROM "global"."schema_migrations" WHERE "global"."schema_migrations"."version" = '20110813014715'
  [1m[36mSQL (1.0ms)[0m  [1mCOMMIT[0m
  [1m[36mSQL (0.2ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.0ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (1.0ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (1.8ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (0.6ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (1.6ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.3ms)[0m  [1mSELECT "global"."schema_migrations"."version" FROM "global"."schema_migrations"[0m
  [1m[36mSQL (0.2ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (1.0ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (1.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (0.6ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (0.3ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (1.2ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.3ms)[0m  [1mSELECT "global"."schema_migrations"."version" FROM "global"."schema_migrations"[0m
Migrating to RoomerCreateTenants (20110813014715)
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (25.5ms)[0m  [1mCREATE TABLE "global"."tenants" ("id" serial primary key, "name" character varying(255), "url_identifier" character varying(255), "namespace" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mPK and serial sequence (2.0ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"global"."schema_migrations"'::regclass
  [1m[36mPK and custom sequence (1.9ms)[0m  [1m SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"global"."schema_migrations"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "global"."schema_migrations" ("version") VALUES ('20110813014715')
  [1m[36mPK and serial sequence (1.4ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"global"."schema_migrations"'::regclass
[0m
  [1m[35mPK and custom sequence (0.8ms)[0m   SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"global"."schema_migrations"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
  [1m[36mSQL (0.5ms)[0m  [1mCOMMIT[0m
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.2ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.0ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (1.1ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (2.1ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (0.6ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (0.3ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (1.3ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.3ms)[0m  [1mSELECT "global"."schema_migrations"."version" FROM "global"."schema_migrations"[0m
  [1m[35mSQL (0.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (0.4ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.1ms)[0m  [1mSELECT "global"."schema_migrations"."version" FROM "global"."schema_migrations"[0m
Migrating to RoomerCreateTenants (20110813014715)
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mSQL (1.3ms)[0m  [1mDROP TABLE "global"."tenants"[0m
  [1m[35mSQL (0.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mAREL (0.4ms)[0m  DELETE FROM "global"."schema_migrations" WHERE "global"."schema_migrations"."version" = '20110813014715'
  [1m[36mSQL (0.7ms)[0m  [1mCOMMIT[0m
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (2.1ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 
[0m
  [1m[35mSQL (1.0ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (24.0ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mSQL (11.9ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
  [1m[36mSQL (8.7ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (46.1ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (1.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (25.2ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (8.1ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.3ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (0.5ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (0.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
[0m
  [1m[35mSQL (9.9ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.4ms)[0m  [1mSELECT "global"."schema_migrations"."version" FROM "global"."schema_migrations"[0m
Migrating to RoomerCreateTenants (20110817035856)
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (169.0ms)[0m  [1mCREATE TABLE "global"."tenants" ("id" serial primary key, "name" character varying(255), "url_identifier" character varying(255), "schema_name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.5ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mPK and serial sequence (14.9ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"global"."schema_migrations"'::regclass
  [1m[36mPK and custom sequence (18.5ms)[0m  [1m SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"global"."schema_migrations"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
[0m
  [1m[35mSQL (6.6ms)[0m  INSERT INTO "global"."schema_migrations" ("version") VALUES ('20110817035856')
  [1m[36mPK and serial sequence (2.7ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"global"."schema_migrations"'::regclass
[0m
  [1m[35mPK and custom sequence (0.8ms)[0m   SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"global"."schema_migrations"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
  [1m[36mSQL (9.9ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (45.2ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (46.8ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"public"."tenants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
PGError: ERROR:  relation "public.tenants" does not exist
LINE 4:              WHERE a.attrelid = '"public"."tenants"'::regcla...
                                        ^
:             SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
              FROM pg_attribute a LEFT JOIN pg_attrdef d
                ON a.attrelid = d.adrelid AND a.attnum = d.adnum
             WHERE a.attrelid = '"public"."tenants"'::regclass
               AND a.attnum > 0 AND NOT a.attisdropped
             ORDER BY a.attnum
  [1m[36mSQL (0.2ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (10.5ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (87.2ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."tenants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mSQL (0.1ms)[0m  BEGIN
  [1m[36mSQL (23.0ms)[0m  [1m SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (2.8ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'tenants'
 AND schemaname = 'global'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."tenants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mPK and serial sequence (13.9ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"global"."tenants"'::regclass
  [1m[36mSQL (11.8ms)[0m  [1mINSERT INTO "global"."tenants" ("updated_at", "name", "schema_name", "url_identifier", "created_at") VALUES ('2011-08-17 04:04:14.489457', 'cox', 'cox', 'cox.gr3g.me', '2011-08-17 04:04:14.489457') RETURNING "id"[0m
  [1m[35mSQL (46.3ms)[0m  COMMIT
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mTenant Load (0.7ms)[0m  [1mSELECT "global"."tenants".* FROM "global"."tenants"[0m
  [1m[35mSQL (1.7ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."tenants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.9ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.7ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mTenant Load (1.0ms)[0m  [1mSELECT "global"."tenants".* FROM "global"."tenants"[0m
  [1m[35mSQL (1.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."tenants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.2ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mTenant Load (0.7ms)[0m  [1mSELECT "global"."tenants".* FROM "global"."tenants"[0m
  [1m[35mSQL (1.8ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"global"."tenants"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (24.1ms)[0m  [1mSELECT nspname FROM pg_namespace WHERE nspname !~ '^pg_.*'[0m
  [1m[35mSQL (32.1ms)[0m  CREATE SCHEMA cox
  [1m[36mSQL (1.3ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'cox'
[0m
  [1m[35mSQL (59.2ms)[0m  CREATE TABLE "cox"."schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36mSQL (0.1ms)[0m  [1mSHOW search_path[0m
  [1m[35mSQL (6.1ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t, pg_class i, pg_index d
 WHERE i.relkind = 'i'
 AND d.indexrelid = i.oid
 AND d.indisprimary = 'f'
 AND t.oid = d.indrelid
 AND t.relname = 'cox.schema_migrations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname
  [1m[36mSQL (3.4ms)[0m  [1mCREATE UNIQUE INDEX "cox.unique_schema_migrations" ON "cox"."schema_migrations" ("version")[0m
  [1m[35mSQL (0.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_info'
 AND schemaname = 'cox'
  [1m[36mSQL (0.3ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'cox'
[0m
  [1m[35mSQL (0.5ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (0.3ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'cox'
[0m
  [1m[35mSQL (0.4ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"cox"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mSQL (0.2ms)[0m  [1mSELECT "cox"."schema_migrations"."version" FROM "cox"."schema_migrations"[0m
Migrating to DeviseCreateUsers (20110817040541)
  [1m[35mSQL (0.0ms)[0m  BEGIN
  [1m[36mSQL (5.4ms)[0m  [1mCREATE TABLE "cox"."users" ("id" serial primary key, "email" character varying(255), "encrypted_password" character varying(128) DEFAULT '' NOT NULL, "reset_password_token" character varying(255), "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" character varying(255), "last_sign_in_ip" character varying(255), "name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.8ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t, pg_class i, pg_index d
 WHERE i.relkind = 'i'
 AND d.indexrelid = i.oid
 AND d.indisprimary = 'f'
 AND t.oid = d.indrelid
 AND t.relname = 'cox.users'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname
  [1m[36mSQL (0.6ms)[0m  [1mCREATE UNIQUE INDEX "index_cox.users_on_email" ON "cox"."users" ("email")[0m
  [1m[35mSQL (0.6ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t, pg_class i, pg_index d
 WHERE i.relkind = 'i'
 AND d.indexrelid = i.oid
 AND d.indisprimary = 'f'
 AND t.oid = d.indrelid
 AND t.relname = 'cox.users'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname
  [1m[36mSQL (0.6ms)[0m  [1mCREATE UNIQUE INDEX "index_cox.users_on_reset_password_token" ON "cox"."users" ("reset_password_token")[0m
  [1m[35mSQL (0.4ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 AND schemaname = 'cox'
  [1m[36mSQL (0.4ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"cox"."schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mPK and serial sequence (22.5ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"cox"."schema_migrations"'::regclass
  [1m[36mPK and custom sequence (2.6ms)[0m  [1m SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"cox"."schema_migrations"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cox"."schema_migrations" ("version") VALUES ('20110817040541')
  [1m[36mPK and serial sequence (2.5ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"cox"."schema_migrations"'::regclass
[0m
  [1m[35mPK and custom sequence (1.2ms)[0m   SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"cox"."schema_migrations"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
  [1m[36mSQL (0.3ms)[0m  [1mCOMMIT[0m
  [1m[36mSQL (1.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.2ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.2ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (155.4ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 
[0m
  [1m[35mSQL (2.2ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (33.5ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mSQL (32.5ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
Migrating to CreatePeople (20110817184158)
  [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (98.0ms)[0m  CREATE TABLE "people" ("id" serial primary key, "name" character varying(255), "email" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
PGError: ERROR:  relation "people" already exists
: CREATE TABLE "people" ("id" serial primary key, "name" character varying(255), "email" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36mSQL (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.1ms)[0m  SHOW TIME ZONE
  [1m[36mSQL (1.8ms)[0m  [1m SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 
[0m
  [1m[35mSQL (1.2ms)[0m   SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
  [1m[36mSQL (1.7ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mSQL (0.3ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
Migrating to CreatePeople (20110817184158)
  [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (53.6ms)[0m  CREATE TABLE "people" ("id" serial primary key, "name" character varying(255), "email" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36mSQL (0.5ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mPK and serial sequence (2.2ms)[0m   SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"schema_migrations"'::regclass
  [1m[36mPK and custom sequence (10.1ms)[0m  [1m SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"schema_migrations"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
[0m
  [1m[35mSQL (6.7ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20110817184158')
  [1m[36mPK and serial sequence (1.6ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"schema_migrations"'::regclass
[0m
  [1m[35mPK and custom sequence (0.7ms)[0m   SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"schema_migrations"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
  [1m[36mSQL (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35mSQL (0.5ms)[0m   SELECT COUNT(*)
 FROM pg_tables
 WHERE tablename = 'schema_migrations'
 
  [1m[36mSQL (0.4ms)[0m  [1m SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"schema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
[0m
  [1m[35mSQL (0.2ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
  [1m[36mSQL (0.7ms)[0m  [1m SELECT tablename
 FROM pg_tables
 WHERE schemaname = ANY (current_schemas(false))
[0m
  [1m[35mSQL (0.4ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"barsonschema_migrations"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mPK and serial sequence (1.4ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"barsonschema_migrations"'::regclass
[0m
  [1m[35mPK and custom sequence (0.7ms)[0m   SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"barsonschema_migrations"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
  [1m[36mSQL (0.1ms)[0m  [1mSHOW search_path[0m
  [1m[35mSQL (17.4ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t, pg_class i, pg_index d
 WHERE i.relkind = 'i'
 AND d.indexrelid = i.oid
 AND d.indisprimary = 'f'
 AND t.oid = d.indrelid
 AND t.relname = 'barsonschema_migrations'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname
  [1m[36mColumns for index barsonunique_schema_migrations on barsonschema_migrations (0.4ms)[0m  [1m SELECT a.attnum, a.attname
 FROM pg_attribute a
 WHERE a.attrelid = 16618
 AND a.attnum IN (1)
[0m
  [1m[35mSQL (0.5ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"films"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mPK and serial sequence (1.5ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"films"'::regclass
[0m
  [1m[35mPK and custom sequence (0.8ms)[0m   SELECT attr.attname,
 CASE
 WHEN split_part(def.adsrc, '''', 2) ~ '.' THEN
 substr(split_part(def.adsrc, '''', 2),
 strpos(split_part(def.adsrc, '''', 2), '.')+1)
 ELSE split_part(def.adsrc, '''', 2)
 END
 FROM pg_class t
 JOIN pg_attribute attr ON (t.oid = attrelid)
 JOIN pg_attrdef def ON (adrelid = attrelid AND adnum = attnum)
 JOIN pg_constraint cons ON (conrelid = adrelid AND adnum = conkey[1])
 WHERE t.oid = '"films"'::regclass
 AND cons.contype = 'p'
 AND def.adsrc ~* 'nextval'
  [1m[36mSQL (0.6ms)[0m  [1m SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t, pg_class i, pg_index d
 WHERE i.relkind = 'i'
 AND d.indexrelid = i.oid
 AND d.indisprimary = 'f'
 AND t.oid = d.indrelid
 AND t.relname = 'films'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname
[0m
  [1m[35mSQL (0.7ms)[0m   SELECT a.attname, format_type(a.atttypid, a.atttypmod), d.adsrc, a.attnotnull
 FROM pg_attribute a LEFT JOIN pg_attrdef d
 ON a.attrelid = d.adrelid AND a.attnum = d.adnum
 WHERE a.attrelid = '"people"'::regclass
 AND a.attnum > 0 AND NOT a.attisdropped
 ORDER BY a.attnum
  [1m[36mPK and serial sequence (1.4ms)[0m  [1m SELECT attr.attname, seq.relname
 FROM pg_class seq,
 pg_attribute attr,
 pg_depend dep,
 pg_namespace name,
 pg_constraint cons
 WHERE seq.oid = dep.objid
 AND seq.relkind = 'S'
 AND attr.attrelid = dep.refobjid
 AND attr.attnum = dep.refobjsubid
 AND attr.attrelid = cons.conrelid
 AND attr.attnum = cons.conkey[1]
 AND cons.contype = 'p'
 AND dep.refobjid = '"people"'::regclass
[0m
  [1m[35mSQL (0.6ms)[0m   SELECT distinct i.relname, d.indisunique, d.indkey, t.oid
 FROM pg_class t, pg_class i, pg_index d
 WHERE i.relkind = 'i'
 AND d.indexrelid = i.oid
 AND d.indisprimary = 'f'
 AND t.oid = d.indrelid
 AND t.relname = 'people'
 AND i.relnamespace IN (SELECT oid FROM pg_namespace WHERE nspname IN ('"$user"','public') )
 ORDER BY i.relname
  [1m[36mSQL (0.3ms)[0m  [1mSHOW client_min_messages[0m
  [1m[35mSQL (0.1ms)[0m  SET client_min_messages TO 'panic'
  [1m[36mSQL (0.1ms)[0m  [1mSET standard_conforming_strings = on[0m
  [1m[35mSQL (0.0ms)[0m  SET client_min_messages TO 'notice'
  [1m[36mSQL (0.3ms)[0m  [1mSET time zone 'UTC'[0m
  [1m[35mSQL (0.0ms)[0m  SHOW TIME ZONE
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT "global"."people".* FROM "global"."people"[0m
PGError: ERROR:  schema "global" does not exist
LINE 1: SELECT "global"."people".* FROM "global"."people"
                                        ^
: SELECT "global"."people".* FROM "global"."people"
  [1m[35mPerson Load (0.2ms)[0m  SELECT "public"."people".* FROM "global"."people"
PGError: ERROR:  schema "global" does not exist
LINE 1: SELECT "public"."people".* FROM "global"."people"
                                        ^
: SELECT "public"."people".* FROM "global"."people"
  [1m[36mSQL (0.4ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.3ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations"[0m
Migrating to CreatePeople (20110817184158)
  [1m[35mSQL (0.1ms)[0m  select sqlite_version(*)
  [1m[36mSQL (0.6ms)[0m  [1mCREATE TABLE "people" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "email" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20110817184158')
  [1m[36mSQL (0.2ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.1ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations"
  [1m[36mSQL (0.1ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.0ms)[0m  PRAGMA index_list("people")
  [1m[36mPerson Load (0.3ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35mPerson Load (0.1ms)[0m  SELECT "public".* FROM "people"
SQLite3::SQLException: no such table: public: SELECT "public".* FROM "people"
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT "global".* FROM "people"[0m
SQLite3::SQLException: no such table: global: SELECT "global".* FROM "people"
  [1m[35mPerson Load (0.1ms)[0m  SELECT "public.people".* FROM "people"
SQLite3::SQLException: no such table: public.people: SELECT "public.people".* FROM "people"
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT "global.people".* FROM "people"[0m
SQLite3::SQLException: no such table: global.people: SELECT "global.people".* FROM "people"
  [1m[36mPerson Load (0.3ms)[0m  [1mSELECT "global.people".* FROM "global.people"[0m
SQLite3::SQLException: no such table: global.people: SELECT "global.people".* FROM "global.people"
  [1m[35mPerson Load (0.4ms)[0m  SELECT "people".* FROM "people"
  [1m[36mPerson Load (0.3ms)[0m  [1mSELECT "global.people".* FROM "global.people"[0m
SQLite3::SQLException: no such table: global.people: SELECT "global.people".* FROM "global.people"
  [1m[36mPerson Load (0.3ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35mPerson Load (0.1ms)[0m  SELECT "global.people".* FROM "people"
SQLite3::SQLException: no such table: global.people: SELECT "global.people".* FROM "people"
